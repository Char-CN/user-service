<!DOCTYPE html>
<html lang="en" class="no-js">
<head>

<meta charset="utf-8">
<title>登录(Login)</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="">

<!-- CSS -->
<style>
/*
 *
 * Template Name: Fullscreen Login
 * Description: Login Template with Fullscreen Background Slideshow
 * Author: Anli Zaimi
 * Author URI: http://azmind.com
 *
 */
body {
	margin: 0;
	padding: 0;
	background: #f8f8f8;
	text-align: center;
	color: #fff;
	font-family: Microsoft YaHei, Segoe UI, Tahoma, Arial, Verdana, sans-serif;
}

.page-container {
	width: 350px;
	height: auto;
	margin: 100px auto 0 auto;
}

h1 {
	font-size: 30px;
	font-weight: 700;
	text-shadow: 0 1px 4px rgba(0, 0, 0, .2);
}

form {
	position: relative;
	width: 350px;
	margin: 15px auto 0 auto;
	text-align: center;
}

input {
	width: 270px;
	height: 42px;
	margin-top: 25px;
	padding: 0 15px;
	background: #2d2d2d; /* browsers that don't support rgba */
	background: rgba(45, 45, 45, .15);
	-moz-border-radius: 6px;
	-webkit-border-radius: 6px;
	border-radius: 6px;
	border: 1px solid #3d3d3d; /* browsers that don't support rgba */
	border: 1px solid rgba(255, 255, 255, .15);
	-moz-box-shadow: 0 2px 3px 0 rgba(0, 0, 0, .1) inset;
	-webkit-box-shadow: 0 2px 3px 0 rgba(0, 0, 0, .1) inset;
	box-shadow: 0 2px 3px 0 rgba(0, 0, 0, .1) inset;
	font-family: 'PT Sans', Helvetica, Arial, sans-serif;
	font-size: 14px;
	color: #fff;
	text-shadow: 0 1px 2px rgba(0, 0, 0, .1);
	-o-transition: all .2s;
	-moz-transition: all .2s;
	-webkit-transition: all .2s;
	-ms-transition: all .2s;
}

input:-moz-placeholder {
	color: #fff;
}

input:-ms-input-placeholder {
	color: #fff;
}

input::-webkit-input-placeholder {
	color: #fff;
}

input:focus {
	outline: none;
	-moz-box-shadow: 0 2px 3px 0 rgba(0, 0, 0, .1) inset, 0 2px 7px 0 rgba(0, 0, 0, .2);
	-webkit-box-shadow: 0 2px 3px 0 rgba(0, 0, 0, .1) inset, 0 2px 7px 0 rgba(0, 0, 0, .2);
	box-shadow: 0 2px 3px 0 rgba(0, 0, 0, .1) inset, 0 2px 7px 0 rgba(0, 0, 0, .2);
}

button {
	cursor: pointer;
	width: 300px;
	height: 44px;
	margin-top: 25px;
	padding: 0;
	background: #ef4300;
	-moz-border-radius: 6px;
	-webkit-border-radius: 6px;
	border-radius: 6px;
	border: 1px solid #ff730e;
	-moz-box-shadow: 0 15px 30px 0 rgba(255, 255, 255, .25) inset, 0 2px 7px 0 rgba(0, 0, 0, .2);
	-webkit-box-shadow: 0 15px 30px 0 rgba(255, 255, 255, .25) inset, 0 2px 7px 0 rgba(0, 0, 0, .2);
	box-shadow: 0 15px 30px 0 rgba(255, 255, 255, .25) inset, 0 2px 7px 0 rgba(0, 0, 0, .2);
	font-family: 'PT Sans', Helvetica, Arial, sans-serif;
	font-size: 14px;
	font-weight: 700;
	color: #fff;
	text-shadow: 0 1px 2px rgba(0, 0, 0, .1);
	-o-transition: all .2s;
	-moz-transition: all .2s;
	-webkit-transition: all .2s;
	-ms-transition: all .2s;
}

button:hover {
	-moz-box-shadow: 0 15px 30px 0 rgba(255, 255, 255, .15) inset, 0 2px 7px 0 rgba(0, 0, 0, .2);
	-webkit-box-shadow: 0 15px 30px 0 rgba(255, 255, 255, .15) inset, 0 2px 7px 0 rgba(0, 0, 0, .2);
	box-shadow: 0 15px 30px 0 rgba(255, 255, 255, .15) inset, 0 2px 7px 0 rgba(0, 0, 0, .2);
}

button:active {
	-moz-box-shadow: 0 15px 30px 0 rgba(255, 255, 255, .15) inset, 0 2px 7px 0 rgba(0, 0, 0, .2);
	-webkit-box-shadow: 0 15px 30px 0 rgba(255, 255, 255, .15) inset, 0 2px 7px 0 rgba(0, 0, 0, .2);
	box-shadow: 0 5px 8px 0 rgba(0, 0, 0, .1) inset, 0 1px 4px 0 rgba(0, 0, 0, .1);
	border: 0px solid #ef4300;
}

/*－－－增加部份的CSS－－－*/
form, input, button {
	font-family: Microsoft YaHei, Segoe UI, Tahoma, Arial, Verdana, sans-serif;
}

input.Captcha {
	width: 130px;
	float: left;
}

* { margin:0; padding:0; }
li { display:block; list-style:none; z-index:-30; position:fixed; overflow:hidden; top:0; left:0; width:100%; height:100%; background:#111; }

</style>
<!-- <link rel="stylesheet" href="css/supersized.css"> -->
</head>
<body>
	<div class="page-container">
		<h1>登录（Login）</h1>
		<input type="text" id="userName" placeholder="请输入您的用户名！" style="width: 300px; float: left;"> <input type="password" id="password"
			placeholder="请输入您的用户密码！" style="width: 300px; float: left;">
		<!-- 			<input type="text" name="Captcha" placeholder="请输入验证码！" style="width:200px; float:left;"> -->
		<button type="button" style="font-size: 24px; width: 200px; outline: none;" onclick="login()">登&nbsp;&nbsp;&nbsp;&nbsp;录</button>
	</div>
	<!-- Javascript -->
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/jquery.cookie.js"></script>
	<script type="text/javascript" src="js/supersized.3.2.7.min.js"></script>
	<script>
		jQuery(document).ready(function() {
			$.supersized({
				// 功能
				slide_interval : 4000, // 转换之间的长度
				transition : 1, // 0 - 无，1 - 淡入淡出，2 - 滑动顶，3 - 滑动向右，4 - 滑底，5 - 滑块向左，6 -
								// 旋转木马右键，7 - 左旋转木马
				transition_speed : 1000, // 转型速度
				performance : 1, // 0 - 正常，1 - 混合速度/质量，2 - 更优的图像质量，三优的转换速度//（仅适用于火狐/
									// IE浏览器，而不是Webkit的）
				// 大小和位置
				min_width : 0, // 最小允许宽度（以像素为单位）
				min_height : 0, // 最小允许高度（以像素为单位）
				vertical_center : 1, // 垂直居中背景
				horizontal_center : 1, // 水平中心的背景
				fit_always : 0, // 图像绝不会超过浏览器的宽度或高度（忽略分钟。尺寸）
				fit_portrait : 1, // 纵向图像将不超过浏览器高度
				fit_landscape : 0, // 景观的图像将不超过宽度的浏览器
				// 组件
				slide_links : 'blank', // 个别环节为每张幻灯片（选项：假的，'民'，'名'，'空'）
				slides : [ // 幻灯片影像
				{
					image : 'images/login/1.jpg'
				}, {
					image : 'images/login/2.jpg'
				}, {
					image : 'images/login/3.jpg'
				} ]
			});
	
		});
		var getQueryString = function(name) {
			var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)', 'i');
			var r = window.location.search.substr(1).match(reg);
			if (r != null) {
				return unescape(r[2]);
			}
			return null;
		};
		$.get("userservice/checkuser.do", function(data) {
			if (data != undefined && data.split(",", 2)[0] == "true") {
				location.href = getQueryString("url");
			}
		});
		var cookie_id = "MYSESSIONID";
		var login = function() {
			var userName = $("#userName").val();
			var password = $("#password").val();
			if (userName == "") {
				alert("请填写用户名");
				return;
			}
			if (password == "") {
				alert("请填写密码");
				return;
			}
			$.get("userservice/login.do", {
				userName : userName,
				password : password
			}, function(data) {
				alert(data.message);
				if (data.status == 200) {
					var expires = new Date();
					expires.setTime(expires.getTime() + (30 * 60 * 1000));
					$.cookie(cookie_id, data.sessionId, { path: "/", expires : expires});
					location.href = getQueryString("url");
				}
			});
		};
		$("#userName").focus();
		$("input").keydown(function(event) {
			var e = event || window.event || arguments.callee.caller.arguments[0];
			// 按 Esc 
			if (e && e.keyCode == 27) {
				$("#userName").val("");
				$("#password").val("");
			}
			// enter 键
			if (e && e.keyCode == 13) {
				login();
			}
		});
	</script>
</body>
</html>


